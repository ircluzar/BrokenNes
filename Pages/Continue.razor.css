.options-root{max-width:760px;margin:2rem auto;padding:1.5rem 2rem;border:4px solid #ffffff;outline:4px solid #ff5a26;outline-offset:-8px;background:transparent;color:#fff;font-family:'Press Start 2P', monospace;}
.options-root{position:relative;overflow:hidden;}
.opt-title{margin:0 0 1.25rem;font-size:1.6rem;color:#ff5a26;}
.opt-sections{display:flex;flex-direction:column;gap:1.5rem;}
.opt-section{border:3px solid #fff;padding:1rem;margin-bottom:1.25rem}
.opt-h3{margin:0 0 .75rem;font-size:1rem;color:#fff;}
.opt-row{display:flex;align-items:center;gap:1rem;font-size:.7rem;margin-bottom:.6rem;}
/* Align labels left and sliders right with equal width */
.opt-row label{flex:1;}
.opt-row input[type=range]{flex:0 0 260px; margin-left:auto;}
.opt-row select,.opt-row button,.opt-row input[type=range]{background:#000;color:#fff;border:2px solid #ff5a26;font-family:'Press Start 2P', monospace;font-size:.65rem;padding:.25rem .4rem;}
.opt-row select:disabled,.opt-row button:disabled{opacity:.5;}
.small-note{opacity:.6;font-size:.55rem;}
.opt-footer{margin-top:2rem;text-align:center;}
.opt-link{display:inline-block;padding:.7rem 1.4rem;border:3px solid #ff5a26;color:#fff;text-decoration:none;font-size:.7rem;}
.opt-link:hover,.opt-link:focus{background:#ff5a26;color:#000;}
/* Start button specific states */
.start-btn{background:#000 !important;}
.start-btn.unlocked{border-color:#ff5a26;color:#fff;cursor:pointer}
.start-btn.unlocked:hover,.start-btn.unlocked:focus{background:#0a0a0a;color:#fff;outline:2px solid #ff5a26;outline-offset:2px}
.start-btn.locked{border-color:#555;color:#9ca3af;cursor:default}
.start-btn.locked:hover,.start-btn.locked:focus{background:#000;color:#9ca3af;outline:none}

/* Continue page customizations */
.continue-root .cont-header{border:3px solid #fff;padding:1rem;margin-bottom:1.5rem}
.continue-root .hdr-main{display:flex;justify-content:space-between;align-items:center;gap:.75rem;margin-bottom:.75rem}
.continue-root .lvl-title{display:flex;align-items:center;gap:.6rem;font-size:.9rem}
.continue-root .lvl-title .chip{display:inline-block;background:#fff;color:#000;padding:.15rem .35rem;border:2px solid #ff5a26}
.continue-root .lvl-title strong{line-height:1.2;word-break:break-word}
.continue-root .lvl-status .status-chip{display:inline-block;padding:.2rem .4rem;border:2px solid #fff;font-size:.65rem}
.continue-root .lvl-status .status-chip.cleared{background:#10b981;border-color:#10b981;color:#000}
.continue-root .lvl-status .status-chip.not-cleared{background:#374151;border-color:#9ca3af;color:#fff}
.continue-root .hdr-cards{display:flex;align-items:flex-start;gap:.4rem;flex-wrap:wrap}
.continue-root .enf-chip{background:#000;color:#fff;border:2px solid #fff;font-size:.6rem;padding:.2rem .35rem;cursor:pointer}
.continue-root .enf-chip:hover{background:#111}
.continue-root .hdr-cta{margin-top:.75rem}
.continue-root .btn-next{background:#000;color:#fff;border:3px solid #ff5a26;font-family:'Press Start 2P', monospace;font-size:.7rem;padding:.45rem .8rem}
.continue-root .btn-next:disabled{opacity:.5}

.core-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:1rem;justify-items:center}
.core-slot{position:relative;border:2px solid #fff;min-height:92px;padding:.5rem}
.core-slot .slot-title{font-size:.75rem;margin-bottom:.5rem;color:#fff;text-align:center}
.core-slot .slot-body{display:flex;align-items:center;justify-content:center;min-height:56px}
/* Card presentation inside slot */
.core-slot .card-wrap{position:relative;display:inline-block;line-height:0;z-index:1}
.core-slot .card-wrap svg{display:block;width:142px;height:200px}
/* Clickable cover for unlocked slots (covers the svg) */
.core-slot .card-cover-btn{position:absolute;inset:0;background:transparent;border:0;cursor:pointer;z-index:3}
.core-slot .card-cover-btn:focus{outline:2px solid #ff5a26;outline-offset:2px}
/* Overlay for locked state - semi-transparent black with centered "Enforced" text */
.core-slot .card-enforced-overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.75);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
  pointer-events:none;
}
.core-slot .card-enforced-overlay .enforced-text{
  color:white;
  font-size:0.9rem;
  font-weight:bold;
  text-align:center;
  text-shadow:0 1px 2px rgba(0,0,0,0.8);
}
/* Legacy label/button (kept for fallback; hidden when using svg cards) */
.core-slot .slot-label{display:none}
.core-slot .slot-pick{display:none}

.rom-box,.ach-box{border:2px dashed #fff;padding:.75rem}
.game-box{border:2px dashed #fff;padding:.75rem}

/* ROM selector */
.rom-selector{display:flex;flex-direction:column;gap:.5rem}
.rom-toolbar{display:flex;align-items:center;gap:.75rem;justify-content:space-between}
.rom-toolbar .rom-search{flex:0 0 260px;max-width:60%;background:#000;border:2px solid #ff5a26;color:#fff;font-family:'Press Start 2P', monospace;font-size:.65rem;padding:.25rem .4rem;box-sizing:border-box;min-width:0}
.ach-toolbar{display:flex;align-items:center;gap:.75rem;justify-content:space-between;margin:.35rem 0 .25rem}
.ach-toolbar .rom-search{
  flex:0 0 260px;
  max-width:60%;
  background:#000;
  border:2px solid #ff5a26;
  color:#fff;
  font-family:'Press Start 2P', monospace;
  font-size:.65rem;
  padding:.25rem .4rem;
}
.rom-empty{border:2px dashed #fff;padding:.75rem}

.rom-table{display:block;border:2px solid #fff;--rom-cols: 3fr 1fr 1fr}
.rom-thead{background:#111;border-bottom:2px solid #fff}
.rom-tr{display:grid;grid-template-columns:var(--rom-cols);gap:0;align-items:center}
.rom-th,.rom-td{padding:.5rem}
.rom-th{font-size:.55rem}
.rom-td{font-size:.75rem;background:#000;color:#fff;border-bottom:1px solid #333;text-align:left;cursor:pointer;width:100%}
.rom-td:hover{background:#0a0a0a}
.rom-td.selected{outline:2px solid #ff5a26;outline-offset:-2px;background:#111}
.rom-td.disabled{opacity:.5;cursor:not-allowed}
.rom-title{font-weight:700;overflow:hidden;font-size:.40rem;line-height:1.1;display:-webkit-box;line-clamp:2;-webkit-line-clamp:2;-webkit-box-orient:vertical}
.rom-sub{font-size:.6rem;opacity:.7}
.rom-table .c-title{text-align:left}
.rom-table .c-compat{text-align:center}
.rom-table .c-ach{text-align:right}
.rom-table .c-title{min-width:0}
.rom-td .chip{display:inline-block;padding:.1rem .35rem;border:2px solid #fff;font-size:.6rem}
.rom-td .chip.ok{background:#10b981;border-color:#10b981;color:#000}
.rom-td .chip.no{background:#374151;border-color:#9ca3af;color:#fff}

/* Game info panel */
.game-grid{display:flex;flex-direction:column;gap:.25rem;font-size:.55rem}
.game-row{display:grid;grid-template-columns:1fr 2fr;gap:.5rem;align-items:start}
.game-row .label{opacity:.7}
.game-row .value{word-break:break-word}
.game-row.note .value{white-space:pre-wrap;word-break:break-word;overflow-wrap:anywhere}

/* Import styles */
.rom-toolbar-right{display:flex;align-items:center;gap:.5rem}
.rom-import-btn{padding:.35rem .6rem;font-size:.65rem;border:2px solid #ff5a26;background:#000;color:#fff;font-family:'Press Start 2P', monospace;cursor:pointer}
.rom-import-btn:hover{background:#0a0a0a}
.rom-cancel-btn{padding:.35rem .6rem;font-size:.65rem;border:2px solid transparent;background:transparent;color:#9ca3af;font-family:'Press Start 2P', monospace;cursor:pointer}
.import-modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:5000}
.import-modal{background:#000;color:#fff;border:3px solid #fff;outline:3px solid #ff5a26;outline-offset:-6px;border-radius:8px;padding:1rem;width:min(640px,92vw);max-height:85vh;overflow:auto}
.import-title{margin:0 0 .5rem;font-size:.9rem;color:#ff5a26}
.import-body{display:flex;flex-direction:column;gap:.5rem}
.import-controls{display:flex;gap:.5rem;align-items:center}
.import-drop{border:2px dashed #fff;padding:1rem;border-radius:8px;text-align:center;color:#9ca3af}
.import-list{margin:.25rem 0 0;padding-left:1.1rem}
.import-footer{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.75rem}

/* Modal for card zoom (reuses patterns from other pages) */
.card-modal-backdrop{position:fixed;inset:0;background:#000b;display:flex;align-items:center;justify-content:center;z-index:5000;opacity:1;transition:opacity .18s ease}
.card-modal-backdrop.closing{opacity:0}
.card-modal-content{max-width:98vw;max-height:98vh;}

@media (max-width:620px){
  .options-root{margin:1rem;border-width:3px;outline-width:3px;padding:1rem 1.1rem;}
  .opt-title{font-size:1.2rem;}
  .opt-row{flex-wrap:wrap;}
  .opt-row label{flex:0 0 100%;}
  .opt-row input[type=range]{flex:1 1 100%; margin-left:0;}
  /* Header: stack nicely on mobile */
  .continue-root .hdr-main{flex-direction:column;align-items:flex-start;gap:.5rem;margin-bottom:.6rem}
  .continue-root .lvl-title{font-size:.85rem;gap:.45rem}
  .continue-root .lvl-title .chip{padding:.12rem .32rem}
  .continue-root .lvl-status .status-chip{font-size:.6rem;padding:.18rem .36rem}
  /* Enforced chips: wrap within the container; label on its own line */
  .continue-root .hdr-cards{flex-wrap:wrap;gap:.35rem;padding-bottom:.15rem}
  .continue-root .hdr-cards .small-note{flex:0 0 100%;margin-bottom:.1rem}
  .continue-root .enf-chip{white-space:nowrap;padding:.22rem .4rem}
  /* CTA: full-width button for easier tap */
  .continue-root .hdr-cta{margin-top:.5rem}
  .continue-root .btn-next{display:block;width:100%;text-align:center}
  .core-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
  .rom-tr{grid-template-columns:2fr .8fr 1fr}
  .rom-toolbar{flex-wrap:wrap;justify-content:flex-start}
  .rom-toolbar-right{flex:1 1 100%;display:flex;flex-wrap:wrap}
  .rom-toolbar .rom-search{flex:1 1 100%;max-width:100%;width:100%;min-width:0}
  .ach-toolbar{flex-wrap:wrap}
  .ach-toolbar .rom-search{flex:1 1 100%;max-width:100%}
}

/* Ultra-small devices refinement */
@media (max-width:400px){
  .continue-root .lvl-title{font-size:.8rem}
  .continue-root .btn-next{font-size:.65rem;padding:.42rem .7rem}
}
